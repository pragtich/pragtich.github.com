<!DOCTYPE HTML>
<html lang="en">
<!-- Set up & clean variables --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Joris Pragt’s site – Installing sitecopy on OS X Snow Leopard and using it with Nanoc</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../../default.css" media="screen">
<!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="Pragtich blog
    feed" href="https://pragti.ch/atom.xml">
</head>
<body>
  <titleframe><titlebar><div id="largetitle"> <a href="../../../../../">Pragtich</a>
	  </div>

	  <div id="secnav">
	  </div>
	  <div id="artnav">
	  </div> 
	</titlebar>
  </titleframe>
<article>
  <header>
	<hgroup>
	  
	  <h1 class="itemtitle">Installing sitecopy on OS X Snow Leopard and using it with Nanoc</h1>
      <h2 class="itemdate">12 Nov 2011</h2>
	</hgroup>
  </header>
  <summary>
	I use Sitecopy to upload my Nanoc site to the server. This is how I managed to do it.
</summary>
<bodytext>
  <p>In order to sync my nanoc site to my provider’s server, I have installed sitecopy. Sitecopy requires one of the ports packages. I chose fink, but Darwinports should also work I guess.</p>

<p>First, I downloaded the Xcode and iOS developer software from Apple (registration required as an Apple developer, but free). This installed without issue.</p>

<p>Then, I followed the instructions on the <a href="http://www.finkproject.org/download/srcdist.php">Fink website</a>. The instructions are quite clear I think. I tried to fill in as many local servers as possible while running <code class="language-plaintext highlighter-rouge">./bootstrap</code>. It would be a shame to transfer everything over the Atlantic cables, right?</p>

<p>What doe surprise me, is that many packages were installed, which I actually already have, many already built into OS X. One that jumped out to me, was python. I can only assume that this is done in order to have all libraries in control of Fink. I just really hope having some programs around twice, does not cause conflicts. fingers crossed…</p>

<h1 id="now-for-the-real-stuff">Now for the real stuff</h1>

<p>Once sitecopy was running, it actually ran very quickly. I copied an example rakefile <a href="http://www.remerson.plus.com/articles/nanoc-rake">From here</a> and followed the directory structure suggested by it:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nanoc/
  site/
    content/
    layouts/
    sitecopy/
      sitecopyrc
</code></pre></div></div>

<p>So, that is: no dotfiles, all files visible to the filesystem. Of course, this is not the default for sitecopy, so we specify the sitecopy rc file locations in the rakefile.</p>

<p>Then, I created the sitecopyrc as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>site my.pretty.name
server ftp.server.url
remote /
local ~/nanoc/pragtich/trunk/output/
username myFTPusernae
password thepassword
protocol ftp
</code></pre></div></div>

<p>Where the folder after <code class="language-plaintext highlighter-rouge">local</code> is the nanoc <code class="language-plaintext highlighter-rouge">output</code> folder.</p>

<p>I then used the initialization from the example rakefile:
    sitecopy -r sitecopy/sitecopyrc -p sitecopy -i my.pretty.name
And crated a ‘compile and upload’ rake addition to the <code class="language-plaintext highlighter-rouge">Rakefile</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>desc "compile and upload."
task :co do
  system 'nanoc co &amp;&amp; sitecopy  -r sitecopy/sitecopyrc -p sitecopy -u my.pretty.name'
end
</code></pre></div></div>

<p>So now, each time I edit something in my page, I only have to go…</p>

<p>rake co</p>

<p>…and the entire thing is recompiled and synchronized to the server.</p>

<h1 id="mission-accomplished">Mission accomplished!</h1>

<h1 id="update">Update</h1>

<p>When I started using <code class="language-plaintext highlighter-rouge">git</code>, I needed to add a line to the
<code class="language-plaintext highlighter-rouge">sitecopyrc</code>. I added several of the disturbing dotfiles (which my
server was not allowing me to upload) to the <code class="language-plaintext highlighter-rouge">exclude</code> list. The
<code class="language-plaintext highlighter-rouge">sitecopy/sitecopyrc</code> now looks something like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>site my.pretty.name
server ftp.server.url
remote /
local ~/nanoc/pragtich/output/
username myFTPusernae
password thepassword
protocol ftp
exclude .DS_Store
exclude .git
</code></pre></div></div>

<p>This saves a lot of error messages, which eventually led to a failing sitecopy.</p>


<footer>
  <p>
<h1>Possibly related posts:</h1>
  	  
<reftitle><a href="/blogging/2013/02/03/migrating-from-nanoc-to-jekyll/">Migrating from nanoc to jekyll </a>
	  
<img src="https://www.pragti.ch/indeximages/jekyll.jpg">

      <h2 class="itemdate">03 Feb 2013</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2012/07/04/Nanoc-Github-Pages/">Using Nanoc to fill Github Pages </a>
	  
      <h2 class="itemdate">04 Jul 2012</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2012/12/15/GNU-Emacs-24/">Switching to GNU Emacs 24 on Mac OS X </a>
	  
<img src="https://www.pragti.ch/indeximages/emacs.jpg">

      <h2 class="itemdate">15 Dec 2012</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2012/09/22/OpenWRT-on-the-TL-WR703N/">Installing OpenWRT on a TL-WR703N router using a USB stick as storage </a>
	  
      <h2 class="itemdate">22 Sep 2012</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2011/11/12/Nanoc/">Making a personal website using Nanoc </a>
	  
<img src="https://www.pragti.ch/indeximages/Nanoc_index.jpg">

      <h2 class="itemdate">12 Nov 2011</h2>
</reftitle>


  </p>


  <div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://www.pragti.ch/computer%20stuff/2011/11/12/Installing-sitecopy-on-OS-X/';  
    this.page.identifier = 'sitecopy'; 
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://pragtich.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </a>
</footer>
</article>
  
<nav>
    <h2>All articles</h2> 
	<ul>
	  <li>
		<a href="https://www.pragti.ch/blog/index.html">Index of all articles</a> </li>

	</ul>
	<H2>Categories</h2>
    <ul>
	  
	    <li>
		  <a href="https://www.pragti.ch/categories/computer-stuff">Computer stuff</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/life">Life</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/kippycam">Kippycam</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/blogging">Blogging</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/project-euler">Project Euler</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/mechanical">Mechanical</a>
		</li>

	  
    </ul>
	<h2>About</h2>
    <ul>
	  <li><a href="../../../../../about/">About me</a></li>
  </ul>
  </nav>
</body>
</html>
