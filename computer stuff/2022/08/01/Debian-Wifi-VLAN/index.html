<!DOCTYPE HTML>
<html lang="en">
<!-- Set up & clean variables --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Joris Pragt’s site – Accessing a Wifi VLAN in Debian Live</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../../default.css" media="screen">
<!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="Pragtich blog
    feed" href="https://pragti.ch/atom.xml">
</head>
<body>
  <titleframe><titlebar><div id="largetitle"> <a href="../../../../../">Pragtich</a>
	  </div>

	  <div id="secnav">
	  </div>
	  <div id="artnav">
	  </div> 
	</titlebar>
  </titleframe>
<article>
  <header>
	<hgroup>
	  <img src="https://www.pragti.ch/indeximages/Debian.jpg">
	  <h1 class="itemtitle">Accessing a Wifi VLAN in Debian Live</h1>
      <h2 class="itemdate">01 Aug 2022</h2>
	</hgroup>
  </header>
  <summary>
	Quite a challenge: how to get Debian Live to join a Wifi network on a VLAN?
</summary>
<bodytext>
  <h1 id="the-challenge">The Challenge</h1>

<p>My network connection (‘Delta Glasvezel’) enters the house on a fiber and gets converted to Ethernet using a media converter. The internet signal is provided on VLAN 100, while the TV and Telephony signals are presumably on other VLANs. Normally my gateway will connect to the correct VLAN, but during the installation or upgrade of the router’s operating system, this does not work.</p>

<p>A smart thing to do would probably be to start a local copy of the OS and package builds. That’s a good way to make OpenWRT installs stable, anyway. And it would help to make the installs more reproducible.
For now, however, I’m too lazy.</p>

<p>Since the router does have Wifi cards, it’s quite doable to get it online over Wifi. This can be done through a mobile hotspot, but the idealist in me doesn’t enjoy this. How do I avoid using my mobile phone to provide Wifi network access?</p>

<p>In other words: how do I get Debian Live to access WiFi and connect to VLAN 100?</p>

<h1 id="joining-wifi-on-debian-live">Joining Wifi on Debian Live</h1>

<p>It’s documented <a href="https://wiki.debian.org/WiFi/HowToUse">in their wiki</a>, but I found it confusing and there were some small errors.</p>

<p>I ran it all as <code class="language-plaintext highlighter-rouge">root</code>, the prompt in the Wiki shows when super user rights are really needed.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ip a</span>
<span class="c"># iw dev</span>
</code></pre></div></div>

<p>Shows the wireless device name. Turns out to be <code class="language-plaintext highlighter-rouge">wlp1s0</code>.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ip link set wlp1s0 up</span>
</code></pre></div></div>

<p>Enables the device for the scanning later?</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># iwlist scan</span>
</code></pre></div></div>

<p>A good chance to test the wifi adapter by scanning, and confirms the SSID.</p>

<p>Edited <code class="language-plaintext highlighter-rouge">/etc/network/interfaces</code> to add:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># my wifi device
allow-hotplug wlp1s0
iface wlp1s0 inet dhcp
        wpa-ssid ESSID
        wpa-psk PASSWORD
</code></pre></div></div>

<p>What the wiki does not say: you need to restart networking for it to pick up the net interface:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># systemctl restart networking</span>
</code></pre></div></div>

<p>Then you can bring it up:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ifup wlp1s0</span>
</code></pre></div></div>

<p>And test the connection:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># iw wlp1s0 link</span>
<span class="c"># ip a</span>
</code></pre></div></div>

<h1 id="remaining-challenge---vlan">Remaining challenge - VLAN</h1>

<p>I have yet to figure out the details of accessing the VLAN – this is left as a future exercise.</p>

<footer>
  <p>
<h1>Possibly related posts:</h1>
  	  
<reftitle><a href="/computer%20stuff/2021/04/09/Upgrading-OpenWRT-APU2/">Upgrading OpenWRT on x86 (PC Engines APU2) </a>
	  
<img src="https://www.pragti.ch/indeximages/OpenWRT.jpg">

      <h2 class="itemdate">09 Apr 2021</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2022/02/22/installing-a-linux-virtual-machine-on-arm64odroid-n2/">Installing a linux virtual machine on ARM64/Odroid N2 </a>
	  
<img src="https://www.pragti.ch/indeximages/libvirt.jpg">

      <h2 class="itemdate">22 Feb 2022</h2>
</reftitle>

<reftitle><a href="/kippycam/2012/06/22/Network-layout/">Getting network access in the garden </a>
	  
      <h2 class="itemdate">22 Jun 2012</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2012/09/22/OpenWRT-on-the-TL-WR703N/">Installing OpenWRT on a TL-WR703N router using a USB stick as storage </a>
	  
      <h2 class="itemdate">22 Sep 2012</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2012/12/15/GNU-Emacs-24/">Switching to GNU Emacs 24 on Mac OS X </a>
	  
<img src="https://www.pragti.ch/indeximages/emacs.jpg">

      <h2 class="itemdate">15 Dec 2012</h2>
</reftitle>


  </p>


  <div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://www.pragti.ch/computer%20stuff/2022/08/01/Debian-Wifi-VLAN/';  
    this.page.identifier = 'Debian-VLAN-Wifi'; 
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://pragtich.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </a>
</footer>
</article>
  
<nav>
    <h2>All articles</h2> 
	<ul>
	  <li>
		<a href="https://www.pragti.ch/blog/index.html">Index of all articles</a> </li>

	</ul>
	<H2>Categories</h2>
    <ul>
	  
	    <li>
		  <a href="https://www.pragti.ch/categories/computer-stuff">Computer stuff</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/life">Life</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/kippycam">Kippycam</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/blogging">Blogging</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/project-euler">Project Euler</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/mechanical">Mechanical</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/materials">Materials</a>
		</li>

	  
    </ul>
	<h2>About</h2>
    <ul>
	  <li><a href="../../../../../about/">About me</a></li>
  </ul>
  </nav>
</body>
</html>
