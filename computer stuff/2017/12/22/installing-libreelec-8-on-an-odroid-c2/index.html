<!DOCTYPE HTML>
<html lang="en">
<!-- Set up & clean variables --><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Joris Pragt’s site – Installing LibreElec 8 on an Odroid C2</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../../../../default.css" media="screen">
<!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="Pragtich blog
    feed" href="https://pragti.ch/atom.xml">
</head>
<body>
  <titleframe><titlebar><div id="largetitle"> <a href="../../../../../">Pragtich</a>
	  </div>

	  <div id="secnav">
	  </div>
	  <div id="artnav">
	  </div> 
	</titlebar>
  </titleframe>
<article>
  <header>
	<hgroup>
	  <img src="https://www.pragti.ch/indeximages/LE.png">
	  <h1 class="itemtitle">Installing LibreElec 8 on an Odroid C2</h1>
      <h2 class="itemdate">22 Dec 2017</h2>
	</hgroup>
  </header>
  <summary>
	I had to do quite a few small changes to make LE 8 work as I want on my Odroid C2
</summary>
<bodytext>
  <h1>Installing LE</h1>

<p>Burning an SD card with the Libreelec utility did not work, but Etcher did the trick. I also switched from a 2 GB to an 8 GB card, perhaps that was a factor, too. </p>

<p>Installed the image onto an SD card, so that I can switch back to the original installation if it doesn&#39;t work out. I ended up using <a href="http://releases.libreelec.tv/LibreELEC-Odroid_C2.aarch64-8.2.1.img.gz">LibreELEC-Odroid_C2.aarch64-8.2.1.img.gz</a></p>

<h1>Recovering the library</h1>

<p>This is where I was really happy to have the EMMC with the original Kodi image. It&#39;s really easy to swap it in and out, so that you can get access to the original data and files.</p>

<p>Exported the original library to a single file.</p>

<p>Imported it again in the new install. Seemless. You do need to switch the skin to <code>Advanced</code> mode in order to get access to the <code>Import</code> and <code>Export</code> functions.</p>

<p>Browsing the network in order to open the library was a challenge at first. It helps if you set the <code>Workgroup</code> to the same workgroup that your server is in. I had to change it in 2 places: The LibreElec Add-on and the Kodi network settings. Then, it worked.</p>

<h1>Disable SSH password</h1>

<p>SSH on Libreelec only supports the default user/pass combination (<code>root/libreelec</code>). In order to secure this, I used <code>ssh-copy-key root@libreelec</code> to copy my ssh keys to the device. You might need to make a key first, Google it.</p>

<p>Then, disable the password login in the Libreelec settings addon in Kodi.</p>

<h1>Disable blinking blue led</h1>

<p><a href="https://jbtronics.wordpress.com/2016/05/12/odroid-c2-change-the-function-of-the-blue-led/">Followed this link</a> </p>

<p>The startup scripts in Libreelec are very simple, so actually you put the following into <code>/storage/.config/autostart.sh</code>:</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nb">echo </span>none <span class="o">&gt;</span> /sys/devices/gpio_leds.43/leds/blue:heartbeat/trigger
</code></pre></div>
<p>and then (using ssh):</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell">chmod a+x autostart.sh
</code></pre></div>
<p>Another option for the trigger, is <code>default-on</code>. I prefer this trigger in combination with a killing of the LED at shutdown, to confirm a safe shutdown state. This is in my <code>/Configfiles/shutdown.sh</code>:</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="c">#!/bin/sh</span>

<span class="k">case</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="k">in
  </span>halt<span class="p">)</span>
    <span class="c"># your commands here</span>

    <span class="nb">echo </span>none <span class="o">&gt;</span> /sys/class/leds/blue<span class="se">\:</span>heartbeat/trigger
    <span class="p">;;</span>
  poweroff<span class="p">)</span>
    <span class="c"># your commands here</span>
    <span class="nb">echo </span>none <span class="o">&gt;</span> /sys/class/leds/blue<span class="se">\:</span>heartbeat/trigger
    <span class="p">;;</span>
  reboot<span class="p">)</span>
    <span class="c"># your commands here</span>
    <span class="p">;;</span>
  <span class="k">*</span><span class="p">)</span>
    <span class="c"># your commands here</span>
    <span class="p">;;</span>
<span class="k">esac</span>
</code></pre></div>
<h1>Favourite plugins</h1>

<ul>
<li>Youtube</li>
<li>BSPlayer</li>
<li>Arctic Zephyr</li>
<li>Uitzendinggemist (NPO)</li>
<li>Nederland 24</li>
</ul>

<h1>Keymap changes</h1>

<p>The Minix A2 Lite air mouse is quite nice, but the default support in Kodi is a bit lacking. You can improve it a lot with a few modifications. The first, is to be able to use the <code>back</code> button properly.</p>

<p>As a reference, <a href="http://kodi.wiki/view/MINIX_A2">the following site is really helpful, as it lists the key codes for the remote</a></p>

<h2>Back button goes back in menus</h2>

<p><a href="http://www.minixforum.com/threads/fix-a2-a2-lite-back-button-in-xbmc.3294/">On the Odroid forum</a></p>

<p>I created a file called <code>A2lite.xml</code> into the Samba share <code>/Userdata/keymaps</code> on the box. Restart (the skin?) and the back button behaves properly. Look at the forum posts for a few options, including automatically stopping the media playing.</p>

<p>The file:</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;keymap&gt;</span>
<span class="nt">&lt;global&gt;</span>
<span class="nt">&lt;keyboard&gt;</span>
<span class="nt">&lt;backspace&gt;</span>Back<span class="nt">&lt;/backspace&gt;</span>
<span class="nt">&lt;key</span> <span class="na">id=</span><span class="s">'61467'</span><span class="nt">&gt;</span>Back<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;/keyboard&gt;</span>
<span class="nt">&lt;/global&gt;</span>
<span class="nt">&lt;FullscreenVideo&gt;</span>
<span class="nt">&lt;keyboard&gt;</span>
<span class="nt">&lt;backspace&gt;</span>Back<span class="nt">&lt;/backspace&gt;</span>
<span class="nt">&lt;/keyboard&gt;</span>
<span class="nt">&lt;/FullscreenVideo&gt;</span>
<span class="nt">&lt;/keymap&gt;</span>
</code></pre></div>
<h2>Subtitle shifting</h2>

<p>I like to use the Fast Forward and Fast Reverse buttons to shift the sub delay. That way, it&#39;s easy to fix small errors in timing. Also, I configure the key with the three horizontal lines, to switch subtitle options.</p>

<p>A <code>Subs.xml</code> could look like this:</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;keymap&gt;</span>
 <span class="nt">&lt;global&gt;</span>
  <span class="nt">&lt;keyboard&gt;</span>
   <span class="nt">&lt;key</span> <span class="na">id=</span><span class="s">"61654"</span><span class="nt">&gt;</span>contextmenu<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;/keyboard&gt;</span>
 <span class="nt">&lt;/global&gt;</span>
 <span class="nt">&lt;fullscreenvideo&gt;</span>
  <span class="nt">&lt;keyboard&gt;</span>
   <span class="nt">&lt;key</span> <span class="na">id=</span><span class="s">"61654"</span><span class="nt">&gt;</span>nextsubtitle<span class="nt">&lt;/key&gt;</span>
   <span class="nt">&lt;key</span> <span class="na">id=</span><span class="s">"61627"</span><span class="nt">&gt;</span>subtitledelayminus<span class="nt">&lt;/key&gt;</span>
   <span class="nt">&lt;key</span> <span class="na">id=</span><span class="s">"61626"</span><span class="nt">&gt;</span>subtitledelayplus<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;/keyboard&gt;</span>
 <span class="nt">&lt;/fullscreenvideo&gt;</span>
<span class="nt">&lt;/keymap&gt;</span>
</code></pre></div>
<h1>Getting LIRC to work</h1>

<p><strong>Careful: this is untested and probably not really correct</strong></p>

<p>cp /etc/lirc/lircd.conf.amremote /storage/.config/lircd.conf
reboot</p>

<p>systemctl stop eventlircd.service 
systemctl stop lircd@lirc0:default:lircd.conf.amremote.service
ps aux|grep lirc</p>
<div class="highlight"><pre><code class="language-" data-lang="">597 root       0:00 {kodi.sh} /bin/sh /usr/lib/kodi/kodi.sh --standalone -fs --lircdev /run/lirc/lircd
602 root       2:15 /usr/lib/kodi/kodi.bin --standalone -fs --lircdev /run/lirc/lircd
773 root       0:00 grep lirc
</code></pre></div>
<p>irrecord --device /dev/lirc0 /storage/.config/lircd.conf</p>

<footer>
  <p>
<h1>Possibly related posts:</h1>
  	  
<reftitle><a href="/blogging/2013/02/03/migrating-from-nanoc-to-jekyll/">Migrating from nanoc to jekyll </a>
	  
<img src="https://www.pragti.ch/indeximages/jekyll.jpg">

      <h2 class="itemdate">03 Feb 2013</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2012/09/22/OpenWRT-on-the-TL-WR703N/">Installing OpenWRT on a TL-WR703N router using a USB stick as storage </a>
	  
      <h2 class="itemdate">22 Sep 2012</h2>
</reftitle>

<reftitle><a href="/computer%20stuff/2012/12/15/GNU-Emacs-24/">Switching to GNU Emacs 24 on Mac OS X </a>
	  
<img src="https://www.pragti.ch/indeximages/emacs.jpg">

      <h2 class="itemdate">15 Dec 2012</h2>
</reftitle>

<reftitle><a href="/kippycam/2012/08/15/Adding-an-I2C-interface-to-the-TL-WR703N/">Adding an I2C interface to the TL-WR703N </a>
	  
<img src="https://www.pragti.ch/indeximages/index-i2c.jpg">

      <h2 class="itemdate">15 Aug 2012</h2>
</reftitle>

<reftitle><a href="/kippycam/2013/01/02/Mjpg-streamer-multiple/">Using multiple webcams in mjpg-streamer on OpenWRT </a>
	  
<img src="https://www.pragti.ch/indeximages/mjpg-streamer-twocams.jpg">

      <h2 class="itemdate">02 Jan 2013</h2>
</reftitle>


  </p>


  <div id="disqus_thread"></div>
<script>

var disqus_config = function () {
    this.page.url = 'https://www.pragti.ch/computer%20stuff/2017/12/22/installing-libreelec-8-on-an-odroid-c2/';  
    this.page.identifier = 'LE8OdroidC2'; 
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://pragtich.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </a>
</footer>
</article>
  
<nav>
    <h2>All articles</h2> 
	<ul>
	  <li>
		<a href="https://www.pragti.ch/blog/index.html">Index of all articles</a> </li>

	</ul>
	<H2>Categories</h2>
    <ul>
	  
	    <li>
		  <a href="https://www.pragti.ch/categories/computer-stuff">Computer stuff</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/life">Life</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/kippycam">Kippycam</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/blogging">Blogging</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/project-euler">Project Euler</a>
		</li>

	  
	    <li>
		  <a href="https://www.pragti.ch/categories/mechanical">Mechanical</a>
		</li>

	  
    </ul>
	<h2>About</h2>
    <ul>
	  <li><a href="../../../../../about/">About me</a></li>
  </ul>
  </nav>
</body>
</html>
